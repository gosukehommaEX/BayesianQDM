% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/BayesDecisionProbContinuous.R
\name{BayesDecisionProbContinuous}
\alias{BayesDecisionProbContinuous}
\title{Calculate the Go, NoGo and Gray Probabilities for a Clinical Trial When Outcome is Continuous
Under the Bayesian Framework Using Two Metrics}
\usage{
BayesDecisionProbContinuous(
  nsim,
  prob,
  design,
  prior,
  CalcMethod,
  theta.TV,
  theta.MAV,
  theta.NULL,
  nMC = NULL,
  nINLAsample = NULL,
  gamma1,
  gamma2,
  n1,
  n2,
  m1,
  m2,
  kappa01,
  kappa02,
  nu01,
  nu02,
  mu01,
  mu02,
  sigma01,
  sigma02,
  mu1,
  mu2,
  sigma1,
  sigma2,
  r = NULL,
  ne1 = NULL,
  ne2 = NULL,
  alpha01 = NULL,
  alpha02 = NULL,
  seed
)
}
\arguments{
\item{nsim}{A positive integer representing the number of iterations for calculating posterior/posterior predictive probability.}

\item{prob}{A character string specifying the type of probability to use
(\code{prob = 'posterior'} or \code{prob = 'predictive'}).}

\item{design}{A character string specifying the type of trial design
(\code{design = 'controlled'}, \code{design = 'uncontrolled'}, or \code{design = 'external'}).}

\item{prior}{A character string specifying the prior distribution
(\code{prior = 'N-Inv-Chisq'} or \code{prior = 'vague'}).}

\item{CalcMethod}{A character string specifying the calculation method
(\code{CalcMethod = 'NI'} for numerical integration, \code{CalcMethod = 'MC'} for Monte Carlo method,
\code{CalcMethod = 'WS'} for Welch-Satterthwaite approximation, or \code{CalcMethod = 'INLA'} for INLA).}

\item{theta.TV}{A numeric value representing the pre-specified threshold value for calculating
Go probability when \code{prob = 'posterior'}.}

\item{theta.MAV}{A numeric value representing the pre-specified threshold value for calculating
NoGo probability when \code{prob = 'posterior'}.}

\item{theta.NULL}{A numeric value representing the pre-specified threshold value for calculating
Go/NoGo probabilities when \code{prob = 'predictive'}.}

\item{nMC}{A positive integer representing the number of iterations for Monte Carlo simulation
(required only if \code{CalcMethod = 'MC'}).}

\item{nINLAsample}{A positive integer representing the number of iterations for INLA sampling
(required only if \code{CalcMethod = 'INLA'}).}

\item{gamma1}{A numeric value between 0 and 1 representing the minimum probability to declare success.}

\item{gamma2}{A numeric value between 0 and 1 representing the futility threshold.}

\item{n1}{A positive integer representing the number of patients in group 1 for a proof-of-concept (PoC) trial.}

\item{n2}{A positive integer representing the number of patients in group 2 for the PoC trial.}

\item{m1}{A positive integer representing the number of patients in group 1 for the future trial data.}

\item{m2}{A positive integer representing the number of patients in group 2 for the future trial data.}

\item{kappa01}{A positive numeric value representing the prior precision parameter related to the mean
for conjugate prior of Normal-Inverse-Chi-squared in group 1.}

\item{kappa02}{A positive numeric value representing the prior precision parameter related to the mean
for conjugate prior of Normal-Inverse-Chi-squared in group 2.}

\item{nu01}{A positive numeric value representing the prior degrees of freedom related to the variance
for conjugate prior of Normal-Inverse-Chi-squared in group 1.}

\item{nu02}{A positive numeric value representing the prior degrees of freedom related to the variance
for conjugate prior of Normal-Inverse-Chi-squared in group 2.}

\item{mu01}{A numeric value representing the prior mean value of outcomes in group 1 for the PoC trial.}

\item{mu02}{A numeric value representing the prior mean value of outcomes in group 2 for the PoC trial.}

\item{sigma01}{A positive numeric value representing the prior standard deviation of outcomes in group 1 for the PoC trial.}

\item{sigma02}{A positive numeric value representing the prior standard deviation of outcomes in group 2 for the PoC trial.}

\item{mu1}{A numeric value representing the true mean of group 1 for PoC trial.}

\item{mu2}{A numeric value representing the true mean of group 2 for PoC trial.}

\item{sigma1}{A positive numeric value representing the true standard deviation of group 1 for PoC trial.}

\item{sigma2}{A positive numeric value representing the true standard deviation of group 2 for PoC trial.}

\item{r}{A positive numeric value representing the parameter value associated with the distribution
of mean for group 2 when \code{design = 'uncontrolled'}.}

\item{ne1}{A positive integer representing the sample size for group 1 in external trial
(required for external design, can be NULL if no external treatment data).}

\item{ne2}{A positive integer representing the sample size for group 2 in external trial
(required for external design, can be NULL if no external control data).}

\item{alpha01}{A positive numeric value representing the scale parameter of the power prior for group 1
(required for external design, can be NULL if no external treatment data).}

\item{alpha02}{A positive numeric value representing the scale parameter of the power prior for group 2
(required for external design, can be NULL if no external control data).}

\item{seed}{A numeric value representing the seed number for reproducible random number generation.}
}
\value{
A data frame containing the true means for both groups, and the Go, NoGo, and Gray probabilities.
}
\description{
This function calculates Go, NoGo, and Gray probabilities for continuous outcome clinical trials
under the Bayesian framework using two metrics: (i) posterior probability for the treatment
effect to be greater than a threshold, and (ii) posterior predictive probability of phase III
study success. The function supports controlled, uncontrolled, and external control designs with
multiple calculation methods.
}
\details{
The function can obtain:
\itemize{
\item Go probability
\item NoGo probability
\item Gray probability
}

The function can be used for controlled design, uncontrolled design, and external control design.
The decision framework is based on:
\itemize{
\item Go: Probability that the treatment effect exceeds the efficacy threshold
\item NoGo: Probability that the treatment effect is below the futility threshold
\item Gray: Intermediate zone where neither Go nor NoGo criteria are met
}

The function uses simulation to generate observed data and then applies Bayesian methods to calculate
decision probabilities. Four calculation methods are available for computing the underlying probabilities:
numerical integration (NI), Monte Carlo simulation (MC), Welch-Satterthwaite approximation (WS),
and Integrated Nested Laplace Approximation (INLA) for external data incorporation.
}
\examples{
# Example 1: Numerical Integration (NI) method
BayesDecisionProbContinuous(
  nsim = 100, prob = 'posterior', design = 'controlled',
  prior = 'N-Inv-Chisq', CalcMethod = 'NI',
  theta.TV = 2, theta.MAV = 0, theta.NULL = NULL,
  nMC = NULL, nINLAsample = NULL,
  gamma1 = 0.8, gamma2 = 0.3,
  n1 = 12, n2 = 12, m1 = NULL, m2 = NULL,
  kappa01 = 5, kappa02 = 5, nu01 = 5, nu02 = 5,
  mu01 = 5, mu02 = 5, sigma01 = sqrt(5), sigma02 = sqrt(5),
  mu1 = 4, mu2 = 0, sigma1 = 1, sigma2 = 1,
  r = NULL, ne1 = NULL, ne2 = NULL,
  alpha01 = NULL, alpha02 = NULL, seed = 1
)

# Example 2: Monte Carlo (MC) method
BayesDecisionProbContinuous(
  nsim = 100, prob = 'posterior', design = 'controlled',
  prior = 'vague', CalcMethod = 'MC',
  theta.TV = 1.5, theta.MAV = -0.5, theta.NULL = NULL,
  nMC = 5000, nINLAsample = NULL,
  gamma1 = 0.7, gamma2 = 0.2,
  n1 = 15, n2 = 15, m1 = NULL, m2 = NULL,
  kappa01 = NULL, kappa02 = NULL, nu01 = NULL, nu02 = NULL,
  mu01 = NULL, mu02 = NULL, sigma01 = NULL, sigma02 = NULL,
  mu1 = 3, mu2 = 1, sigma1 = 1.2, sigma2 = 1.1,
  r = NULL, ne1 = NULL, ne2 = NULL,
  alpha01 = NULL, alpha02 = NULL, seed = 2
)

# Example 3: Welch-Satterthwaite (WS) approximation method
BayesDecisionProbContinuous(
  nsim = 100, prob = 'predictive', design = 'controlled',
  prior = 'N-Inv-Chisq', CalcMethod = 'WS',
  theta.TV = NULL, theta.MAV = NULL, theta.NULL = 1,
  nMC = NULL, nINLAsample = NULL,
  gamma1 = 0.8, gamma2 = 0.3,
  n1 = 10, n2 = 10, m1 = 50, m2 = 50,
  kappa01 = 3, kappa02 = 3, nu01 = 4, nu02 = 4,
  mu01 = 2, mu02 = 2, sigma01 = 1.5, sigma02 = 1.5,
  mu1 = 2.5, mu2 = 1.2, sigma1 = 1, sigma2 = 1,
  r = NULL, ne1 = NULL, ne2 = NULL,
  alpha01 = NULL, alpha02 = NULL, seed = 3
)

\dontrun{
# Example 4: INLA method with external control data
BayesDecisionProbContinuous(
  nsim = 100, prob = 'posterior', design = 'external',
  prior = 'vague', CalcMethod = 'INLA',
  theta.TV = 1, theta.MAV = -1, theta.NULL = NULL,
  nMC = NULL, nINLAsample = 3000,
  gamma1 = 0.8, gamma2 = 0.2,
  n1 = 12, n2 = 12, m1 = NULL, m2 = NULL,
  kappa01 = NULL, kappa02 = NULL, nu01 = NULL, nu02 = NULL,
  mu01 = NULL, mu02 = NULL, sigma01 = NULL, sigma02 = NULL,
  mu1 = 2, mu2 = 0, sigma1 = 1, sigma2 = 1,
  r = NULL, ne1 = NULL, ne2 = 20,
  alpha01 = NULL, alpha02 = 0.5, seed = 4
)
}

}
